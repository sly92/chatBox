(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,a){e.exports=a(225)},200:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(111),o=a(16),c=a(17),u=a(19),i=a(18),l=a(20),m=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).goToChat=function(e){e.preventDefault();var t=a.pseudoInput.value;a.context.router.transitionTo("/pseudo/".concat(t))},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"connexionBox",onSubmit:function(t){return e.goToChat(t)}},s.a.createElement("form",{className:"connexion"},s.a.createElement("input",{type:"text",placeholder:"Pseudo",required:!0,ref:function(t){e.pseudoInput=t}}),s.a.createElement("button",{type:"submit"},"GO")))}}]),t}(s.a.Component);m.contextTypes={router:s.a.PropTypes.object};var p=m,g=a(114),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={length:a.props.length},a.createMessage=function(e){e.preventDefault(),console.log(a.message.value);var t={message:a.message.value,pseudo:a.props.pseudo};a.props.addMessage(t),a.messageForm.reset();var n=a.props.length;a.setState({length:n})},a.compteur=function(e){var t=a.props.length-a.message.value.length;console.log(t),a.setState({length:t})},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("form",{className:"form",onSubmit:function(t){return e.createMessage(t)},ref:function(t){return e.messageForm=t}},s.a.createElement("textarea",{required:!0,maxLength:this.props.length,ref:function(t){return e.message=t},onChange:function(t){return e.compteur(t)}}),s.a.createElement("div",{className:"info"},this.state.length),s.a.createElement("button",{type:"submit"},"Envoyer !"))}}]),t}(s.a.Component),d=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).preRender=function(e){return e?s.a.createElement("p",{className:"user-message"},a.props.details.message):s.a.createElement("p",{className:"not-user-message"},s.a.createElement("strong",null,a.props.details.pseudo),":",a.props.details.message)},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.preRender(this.props.isUser(this.props.details.pseudo))}}]),t}(s.a.Component),f=a(112),b=a.n(f).a.createClass({apiKey:"AIzaSyB80NEQo3Quq6i-C-_nX3xogyTpRrSJsGo",authDomain:"ma-chat-box-6705d.firebaseapp.com",databaseURL:"https://ma-chat-box-6705d.firebaseio.com"}),v=a(113),y=a.n(v),E=(a(200),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={messages:{}},a.addMessage=function(e){var t=Object(g.a)({},a.state.messages),n=Date.now();t["message-".concat(n)]=e,Object.keys(t).slice(0,-15).map(function(e){return t[e]=null}),a.setState({messages:t})},a.isUser=function(e){return e===a.props.params.pseudo},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.ref=b.syncState("/messages",{context:this,state:"messages"})}},{key:"componentDidUpdate",value:function(){this.messages.scrollTop=this.messages.scrollHeight}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.messages).map(function(t){return s.a.createElement(d,{key:t,details:e.state.messages[t],isUser:e.isUser})});return s.a.createElement("div",{className:"box"},s.a.createElement("div",null,s.a.createElement("div",{className:"messages",ref:function(t){return e.messages=t}},s.a.createElement(y.a,{component:"div",className:"message",transitionName:"message",transitionEnterTimeout:200,transitionLeaveTimeout:200},t)),s.a.createElement(h,{addMessage:this.addMessage,pseudo:this.props.params.pseudo,length:170})))}}]),t}(s.a.Component)),j=function(){return s.a.createElement("h2",{className:"notFound"},"Y'a rien ici!")},O=a(35);a(224);Object(r.render)(s.a.createElement(function(){return s.a.createElement(O.BrowserRouter,{basename:"/"},s.a.createElement("div",null,s.a.createElement(O.Match,{exactly:!0,pattern:"/",component:p}),s.a.createElement(O.Match,{pattern:"/pseudo/:pseudo",component:E}),s.a.createElement(O.Miss,{component:j})))},null),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.0d1a74fc.chunk.js.map