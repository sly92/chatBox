{"version":3,"sources":["components/Connexion.js","components/Formulaire.js","components/Message.js","Base.js","components/App.js","components/NotFound.js","index.js"],"names":["Connexion","goToChat","event","preventDefault","pseudo","_this","pseudoInput","value","context","router","transitionTo","concat","_this2","this","react_default","a","createElement","className","onSubmit","e","type","placeholder","required","ref","input","React","Component","contextTypes","PropTypes","object","Formulaire","state","length","props","createMessage","console","log","message","addMessage","messageForm","reset","setState","compteur","maxLength","onChange","Message","preRender","isUser","details","base","Rebase","createClass","apiKey","process","authDomain","databaseURL","App","messages","Object","objectSpread","timestamp","Date","now","keys","slice","map","key","params","Base","syncState","scrollTop","scrollHeight","components_Message","react_addons_css_transition_group_default","component","transitionName","transitionEnterTimeout","transitionLeaveTimeout","components_Formulaire","NotFound","render","react_router","basename","exactly","pattern","document","getElementById"],"mappings":"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","file":"static/js/main.0d1a74fc.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Connexion extends React.Component {\r\n\r\n\tgoToChat = event => {\r\n\t\tevent.preventDefault();\r\n\t\t// Récuperer le pseudo\r\n\t\tconst pseudo = this.pseudoInput.value;\r\n\t\t// Changer l'url\r\n\t\tthis.context.router.transitionTo(`/pseudo/${pseudo}`); // `` pour eviter \" \"+\" \"\r\n\t};\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<div className=\"connexionBox\" onSubmit={ e => this.goToChat(e)} >\r\n\t\t\t<form className=\"connexion\">\r\n\t\t\t\t<input \r\n\t\t\t\ttype=\"text\" \r\n\t\t\t\tplaceholder=\"Pseudo\" \r\n\t\t\t\trequired \r\n\t\t\t\tref={(input) => { this.pseudoInput=input}}  />\r\n\t\t\t\t<button type=\"submit\">GO</button>\r\n\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tstatic contextTypes = {\r\n\t\trouter: React.PropTypes.object\r\n\t}\r\n}\r\n\r\nexport default Connexion;","import React from 'react';\r\n\r\nclass Formulaire extends React.Component {\r\n\r\n\tstate = {\r\n\t\tlength : this.props.length\r\n\t} \r\n\t\r\n\tcreateMessage = event => {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(this.message.value);\r\n\t\tconst message = {\r\n\t\t\tmessage: this.message.value,\r\n\t\t\tpseudo: this.props.pseudo\r\n\t\t};\r\n\r\n\t\tthis.props.addMessage(message);\r\n\r\n\t\t//Reset\r\n\t\tthis.messageForm.reset();\r\n\t\tconst length = this.props.length;\r\n\t\tthis.setState({length});\r\n\t};\r\n\r\n\tcompteur = event => {\r\n\t\tconst length = this.props.length - this.message.value.length;\r\n\t\tconsole.log(length);\r\n\t\tthis.setState({length});\r\n\t};\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<form \r\n\t\t\tclassName=\"form\" \r\n\t\t\tonSubmit={e => this.createMessage(e)}\r\n\t\t\tref={input => this.messageForm = input}\r\n\t\t\t>\r\n\r\n\t\t\t<textarea \r\n\t\t\trequired \r\n\t\t\tmaxLength={this.props.length}\r\n\t\t\tref={input => this.message = input}\r\n\t\t\tonChange={e => this.compteur(e)}\r\n\t\t\t>\r\n\r\n\r\n\t\t\t</textarea>\r\n\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t{this.state.length}\r\n\t\t\t</div>\r\n\r\n\t\t\t<button type=\"submit\">Envoyer !</button>\r\n\t\t\t\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\tstatic propTypes = {\r\n\t\taddMessage: React.PropTypes.func.isRequired,\r\n\t\tpseudo: React.PropTypes.string.isRequired,\r\n\t\tlength: React.PropTypes.number.isRequired\r\n\t};\r\n}\r\n\r\nexport default Formulaire;","import React from 'react';\r\n\r\nclass Message extends React.Component {\r\n\t\r\n\tpreRender = (isUser) => {\r\n\t\tif (isUser) {\r\n\t\t\treturn (\r\n\t\t\t\t<p className=\"user-message\">\r\n\t\t\t\t\t{this.props.details.message}\r\n\t\t\t\t</p>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<p className=\"not-user-message\">\r\n\t\t\t\t\t<strong>{this.props.details.pseudo}</strong>:\r\n\t\t\t\t\t{this.props.details.message}\r\n\t\t\t\t</p>\r\n\t\t\t)\r\n\t\t}\r\n\t};\r\n\r\n\trender(){\r\n\t\treturn this.preRender(this.props.isUser(this.props.details.pseudo));\r\n\t\t\r\n\t}\r\n\r\n\tstatic propTypes = {\r\n\t\tdetails : React.PropTypes.object.isRequired\r\n\t};\r\n}\r\n\r\nexport default Message;","import Rebase from 're-base';\r\n\r\nconst API_KEY = process.env.REACT_APP_FB_API_KEY;\r\n\r\nconst base = Rebase.createClass ({\r\n\tapiKey: API_KEY,\r\n    authDomain: \"ma-chat-box-6705d.firebaseapp.com\",\r\n    databaseURL: \"https://ma-chat-box-6705d.firebaseio.com\"\r\n});\r\n\r\nexport default base;\r\n","import React from 'react';\r\nimport Formulaire from './Formulaire.js';\r\nimport Message from './Message.js';\r\nimport Base from '../Base.js';\r\n// CSS\r\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group'\r\nimport '../animation.css'\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\t\r\n\tstate = {\r\n\t\tmessages: {}\r\n\t}\r\n\r\n\tcomponentWillMount(){\r\n\t\tthis.ref = Base.syncState('/messages', {\r\n\t\t\tcontext:this,\r\n\t\t\tstate: 'messages'\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(){\r\n\t\t//Mettre le scroll en bas\r\n\t\tthis.messages.scrollTop = this.messages.scrollHeight;\r\n\t}\r\n\r\n\taddMessage = message => {\r\n\t\t// Copier le state\r\n\t\tconst messages = {...this.state.messages};\r\n\t\t// Ajoute le message avec une clé timestamp\r\n\t\tconst timestamp = Date.now();\r\n\t\tmessages[`message-${timestamp}`] = message; // jsx (derniere version javascript) - concatenation\r\n\t\t// On supprime si plus de 10 messages\r\n\t\tObject.keys(messages).slice(0,-15).map(key => messages[key] = null);\r\n\t\t// Mettre à jour notre state\r\n\t\tthis.setState({messages});\r\n\t};\r\n\r\n\tisUser = (pseudo) => {\r\n\t\treturn pseudo === this.props.params.pseudo\r\n\t}\r\n\trender(){\r\n\r\n\t\t\r\n\t\tconst messages = Object\r\n\t\t\t.keys(this.state.messages)\r\n\t\t\t.map(key => <Message key={key} details={this.state.messages[key]}\r\n\t\t\tisUser={this.isUser} />)\r\n\t\treturn(\r\n\t\t<div className=\"box\">\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"messages\" ref={input => this.messages = input} >\r\n\t\t\t\t<ReactCSSTransitionGroup\r\n\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\tclassName=\"message\"\r\n\t\t\t\t\ttransitionName=\"message\"\r\n\t\t\t\t\ttransitionEnterTimeout={200}\r\n\t\t\t\t\ttransitionLeaveTimeout={200}\r\n\t\t\t\t>\r\n\t\t\t\t\t{messages}\r\n\t\t\t\t</ReactCSSTransitionGroup>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formulaire addMessage={this.addMessage} pseudo={this.props.params.pseudo} length={170} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tstatic propTypes = { \r\n\tparams: React.PropTypes.object.isRequired\r\n\t}\r\n\t\r\n}\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<h2 className=\"notFound\">Y'a rien ici!</h2>\r\n\t)\r\n}\r\n\r\nexport default NotFound;","// REACT\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\n// Components\r\nimport Connexion from './components/Connexion.js';\r\nimport App from './components/App.js';\r\nimport NotFound from './components/NotFound.js'\r\n// Rooter\r\nimport { BrowserRouter, Match, Miss } from 'react-router'; // Les possibilités de routage, si ca match, si ca match pas \r\n// CSS\r\nimport './index.css';\r\n\r\nconst Root = () => {\r\n\treturn (\r\n\t\t<BrowserRouter basename=\"/\">\r\n\t\t\t<div>\r\n\t\t\t\t<Match exactly pattern=\"/\" component={Connexion} />\r\n\t\t\t\t<Match pattern=\"/pseudo/:pseudo\" component={App} />\r\n\t\t\t\t<Miss component={NotFound} />\r\n\t\t\t</div>\r\n\t\t</BrowserRouter>\r\n\t)\r\n}\r\n\r\nrender(\r\n\t<Root />,\r\n\tdocument.getElementById('root')\r\n);"],"sourceRoot":""}